# deque
## 底层原理
![image-deque](../../Images/image-deque.png)

deque是由一段段的连续内存空间，通过一个叫中控器的**map**指针数组组成，指针数组中的指针指向各自的内存空间，通过维护两个迭代器指针start和finish，一个指向第一个缓冲区，另一个指向最后一个缓冲区，来控制一段段内存之间的跳转
支持随机访问O(1)，但性能比vector要低；支持双端扩容，因此在头部和尾部插入和删除元素很快，为O(1)，但是在中间插入和删除元素O(n)

# set&map

## 底层原理

![image-20240309193526876](../../Images/image-20240309193526876.png)

map和set底层都是由红黑树实现，红黑树是一种二叉搜索树，要求从一个节点到所有叶节点的路径中，最长路径不超过最短路径的2倍，所以红黑树只追求树的大致平衡，红黑树是一种弱平衡二叉树，相对于严格要求平衡的平衡二叉树来说，它的旋转次数少，所以对于插入、删除操作较多的情况下，通常使用红黑树。查询、插入和删除的时间复杂度维持在对数级别(O(logn))

**红黑树特性：**

- 每个节点是红色或者黑色
- 根节点是黑色
- 如果一个节点是红色，子节点必须是黑色
- 任意节点到每个叶节点的路径都包含数量相同的黑色节点
